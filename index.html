<!DOCTYPE html>
<html>
    <head>
        <title>Healing Audio</title>
        <style>
            html, body {
  margin: 0;
  background-color: #000000;
  font-family: 'Helvatica', sans-serif;
  color: #FFFFFF;
}
canvas {
  display: block;
}
input {
  position: absolute;
  top: 20px;
  left: 40px;
}
i {
  position: absolute;
  top: 50%;
  width: 100%;
  text-align: center;
}
body.loaded i {
  display: none;
}
        </style>
    </head>
    <body>
        <iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M" width="100%" height="80" frameBorder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        <iframe src="https://open.spotify.com/embed/playlist/4Ao85ZB0F474SYUelDH1Xi?theme=0" width="100%" height="80" frameBorder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        <iframe src="https://open.spotify.com/embed/playlist/2IA9YYZHnxZ7gSMeCMDI3K" width="100%" height="80" frameBorder="0" allowtransparency="true" allow="encrypted-media"></iframe>
<iframe src="https://open.spotify.com/embed/playlist/1QcsybeUidDJIrPQTHS6dD" width="100%" height="80" frameBorder="0" allowtransparency="true" allow="encrypted-media"></iframe>
        <iframe src="https://open.spotify.com/embed/playlist/0QAZlkAA2VBWbbXIK34xA0" width="100%" height="80" frameBorder="0" allowtransparency="true" allow="encrypted-media"></iframe>

        <script>
            window.onload = function() {
  
  var audio,
      analyser,
      audioContext,
      sourceNode,
      stream;

    var audioInput = document.getElementById('audiofile');

  audioInput.addEventListener('change', function(event) {
    stream = URL.createObjectURL(event.target.files[0]);
    audio = new Audio();
    audio.src = stream;
    setup();
  });

    function setup() {
    audio.addEventListener('canplay', function () {
        document.body.className+='loaded';
        audioContext = new AudioContext();
        analyser = (analyser || audioContext.createAnalyser());
        analyser.smoothingTimeConstant = 0.75;
        analyser.fftSize = 512;
      
        sourceNode = audioContext.createMediaElementSource(audio);
        sourceNode.connect(analyser);
        sourceNode.connect(audioContext.destination);

        audio.play();
        update();
    });
  }


};
        </script>
    </body>
</html>
